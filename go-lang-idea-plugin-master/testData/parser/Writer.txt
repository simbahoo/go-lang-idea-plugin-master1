GO_FILE
  PsiComment(GO_LINE_COMMENT)('// Copyright 2009 The Go Authors. All rights reserved.')
  PsiComment(GO_LINE_COMMENT)('// Use of this source code is governed by a BSD-style')
  PsiComment(GO_LINE_COMMENT)('// license that can be found in the LICENSE file.')
  PACKAGE_CLAUSE
    PsiElement(package)('package')
    PsiElement(identifier)('tar')
  PsiComment(GO_LINE_COMMENT)('// TODO(dsymonds):')
  PsiComment(GO_LINE_COMMENT)('// - catch more errors (no first header, etc.)')
  IMPORT_LIST
    IMPORT_DECLARATION
      PsiElement(import)('import')
      PsiElement(()('(')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"bytes"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"errors"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"fmt"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"io"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"os"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"path"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"strconv"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"strings"')
      IMPORT_SPEC
        IMPORT_STRING
          PsiElement(string)('"time"')
      PsiElement())(')')
  VAR_DECLARATION
    PsiElement(var)('var')
    PsiElement(()('(')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('ErrWriteTooLong')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('errors')
          PsiElement(.)('.')
          PsiElement(identifier)('New')
        ARGUMENT_LIST
          PsiElement(()('(')
          STRING_LITERAL
            PsiElement(string)('"archive/tar: write too long"')
          PsiElement())(')')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('ErrFieldTooLong')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('errors')
          PsiElement(.)('.')
          PsiElement(identifier)('New')
        ARGUMENT_LIST
          PsiElement(()('(')
          STRING_LITERAL
            PsiElement(string)('"archive/tar: header field too long"')
          PsiElement())(')')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('ErrWriteAfterClose')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('errors')
          PsiElement(.)('.')
          PsiElement(identifier)('New')
        ARGUMENT_LIST
          PsiElement(()('(')
          STRING_LITERAL
            PsiElement(string)('"archive/tar: write after close"')
          PsiElement())(')')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('errNameTooLong')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('errors')
          PsiElement(.)('.')
          PsiElement(identifier)('New')
        ARGUMENT_LIST
          PsiElement(()('(')
          STRING_LITERAL
            PsiElement(string)('"archive/tar: name too long"')
          PsiElement())(')')
    PsiElement())(')')
  PsiComment(GO_LINE_COMMENT)('// A Writer provides sequential writing of a tar archive in POSIX.1 format.')
  PsiComment(GO_LINE_COMMENT)('// A tar archive consists of a sequence of files.')
  PsiComment(GO_LINE_COMMENT)('// Call WriteHeader to begin a new file, and then call Write to supply that file's data,')
  PsiComment(GO_LINE_COMMENT)('// writing at most hdr.Size bytes in total.')
  TYPE_DECLARATION
    PsiElement(type)('type')
    TYPE_SPEC
      SPEC_TYPE
        PsiElement(identifier)('Writer')
        STRUCT_TYPE
          PsiElement(struct)('struct')
          PsiElement({)('{')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('w')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                TYPE_REFERENCE_EXPRESSION
                  PsiElement(identifier)('io')
                PsiElement(.)('.')
                PsiElement(identifier)('Writer')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('err')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('error')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('nb')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('int64')
          PsiComment(GO_LINE_COMMENT)('// number of unwritten bytes for current file entry')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('pad')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('int64')
          PsiComment(GO_LINE_COMMENT)('// amount of padding to write after current file entry')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('closed')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('bool')
          FIELD_DECLARATION
            FIELD_DEFINITION
              PsiElement(identifier)('usedBinary')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('bool')
          PsiComment(GO_LINE_COMMENT)('// whether the binary numeric field extension was used')
          PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// NewWriter creates a new Writer writing to w.')
  FUNCTION_DECLARATION
    PsiElement(func)('func')
    PsiElement(identifier)('NewWriter')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('w')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('io')
              PsiElement(.)('.')
              PsiElement(identifier)('Writer')
        PsiElement())(')')
      RESULT
        POINTER_TYPE
          PsiElement(*)('*')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('Writer')
    BLOCK
      PsiElement({)('{')
      RETURN_STATEMENT
        PsiElement(return)('return')
        UNARY_EXPR
          PsiElement(&)('&')
          COMPOSITE_LIT
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('Writer')
            LITERAL_VALUE
              PsiElement({)('{')
              ELEMENT
                KEY
                  FIELD_NAME
                    PsiElement(identifier)('w')
                PsiElement(:)(':')
                VALUE
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('w')
              PsiElement(})('}')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Flush finishes writing the current file (optional).')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('Flush')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PsiElement())(')')
      RESULT
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('error')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('nb')
              PsiElement(>)('>')
              LITERAL
                PsiElement(int)('0')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('fmt')
                PsiElement(.)('.')
                PsiElement(identifier)('Errorf')
              ARGUMENT_LIST
                PsiElement(()('(')
                STRING_LITERAL
                  PsiElement(string)('"archive/tar: missed writing %d bytes"')
                PsiElement(,)(',')
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('nb')
                PsiElement())(')')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('n')
          PsiElement(:=)(':=')
          ADD_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('nb')
            PsiElement(+)('+')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('pad')
      FOR_STATEMENT
        PsiElement(for)('for')
        AND_EXPR
          CONDITIONAL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('n')
            PsiElement(>)('>')
            LITERAL
              PsiElement(int)('0')
          PsiElement(&&)('&&')
          CONDITIONAL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
            PsiElement(==)('==')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            SHORT_VAR_DECLARATION
              VAR_DEFINITION
                PsiElement(identifier)('nr')
              PsiElement(:=)(':=')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('n')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nr')
                  PsiElement(>)('>')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('blockSize')
            BLOCK
              PsiElement({)('{')
              ASSIGNMENT_STATEMENT
                LEFT_HAND_EXPR_LIST
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nr')
                ASSIGN_OP
                  PsiElement(=)('=')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('blockSize')
              PsiElement(})('}')
          STATEMENT
            VAR_DECLARATION
              PsiElement(var)('var')
              VAR_SPEC
                VAR_DEFINITION
                  PsiElement(identifier)('nw')
                TYPE
                  TYPE_REFERENCE_EXPRESSION
                    PsiElement(identifier)('int')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('nw')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              SELECTOR_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('w')
                PsiElement(.)('.')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('Write')
              ARGUMENT_LIST
                PsiElement(()('(')
                INDEX_OR_SLICE_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('zeroBlock')
                  PsiElement([)('[')
                  LITERAL
                    PsiElement(int)('0')
                  PsiElement(:)(':')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nr')
                  PsiElement(])(']')
                PsiElement())(')')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('n')
            ASSIGN_OP
              PsiElement(-=)('-=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('int64')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('nw')
                PsiElement())(')')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('nb')
        ASSIGN_OP
          PsiElement(=)('=')
        LITERAL
          PsiElement(int)('0')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('pad')
        ASSIGN_OP
          PsiElement(=)('=')
        LITERAL
          PsiElement(int)('0')
      RETURN_STATEMENT
        PsiElement(return)('return')
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('tw')
          PsiElement(.)('.')
          PsiElement(identifier)('err')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Write s into b, terminating it with a NUL if there is room.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('cString')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('b')
          ARRAY_OR_SLICE_TYPE
            PsiElement([)('[')
            PsiElement(])(']')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('byte')
        PsiElement(,)(',')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('s')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('string')
        PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement())(')')
              PsiElement(>)('>')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('b')
                  PsiElement())(')')
        BLOCK
          PsiElement({)('{')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('tw')
                    PsiElement(.)('.')
                    PsiElement(identifier)('err')
                  PsiElement(==)('==')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nil')
            BLOCK
              PsiElement({)('{')
              ASSIGNMENT_STATEMENT
                LEFT_HAND_EXPR_LIST
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('tw')
                    PsiElement(.)('.')
                    PsiElement(identifier)('err')
                ASSIGN_OP
                  PsiElement(=)('=')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('ErrFieldTooLong')
              PsiElement(})('}')
          RETURN_STATEMENT
            PsiElement(return)('return')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('copy')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('b')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('s')
              PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement())(')')
              PsiElement(<)('<')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('b')
                  PsiElement())(')')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              INDEX_OR_SLICE_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('b')
                PsiElement([)('[')
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('len')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('s')
                    PsiElement())(')')
                PsiElement(])(']')
            ASSIGN_OP
              PsiElement(=)('=')
            LITERAL
              PsiElement(int)('0')
          PsiElement(})('}')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Encode x as an octal ASCII string and write it into b with leading zeros.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('octal')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('b')
          ARRAY_OR_SLICE_TYPE
            PsiElement([)('[')
            PsiElement(])(']')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('byte')
        PsiElement(,)(',')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('x')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('int64')
        PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('s')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('strconv')
              PsiElement(.)('.')
              PsiElement(identifier)('FormatInt')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('x')
              PsiElement(,)(',')
              LITERAL
                PsiElement(int)('8')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// leading zeros, but leave room for a NUL.')
      FOR_STATEMENT
        PsiElement(for)('for')
        CONDITIONAL_EXPR
          ADD_EXPR
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('len')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('s')
                PsiElement())(')')
            PsiElement(+)('+')
            LITERAL
              PsiElement(int)('1')
          PsiElement(<)('<')
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('len')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('b')
              PsiElement())(')')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('s')
            ASSIGN_OP
              PsiElement(=)('=')
            ADD_EXPR
              STRING_LITERAL
                PsiElement(string)('"0"')
              PsiElement(+)('+')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('s')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('b')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('s')
              PsiElement())(')')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Write x into b, either as octal or as binary (GNUtar/star extension).')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('numeric')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('b')
          ARRAY_OR_SLICE_TYPE
            PsiElement([)('[')
            PsiElement(])(']')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('byte')
        PsiElement(,)(',')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('x')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('int64')
        PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      PsiComment(GO_LINE_COMMENT)('// Try octal first.')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('s')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('strconv')
              PsiElement(.)('.')
              PsiElement(identifier)('FormatInt')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('x')
              PsiElement(,)(',')
              LITERAL
                PsiElement(int)('8')
              PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement())(')')
              PsiElement(<)('<')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('b')
                  PsiElement())(')')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('octal')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('b')
                  PsiElement(,)(',')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('x')
                  PsiElement())(')')
          RETURN_STATEMENT
            PsiElement(return)('return')
          PsiElement(})('}')
      PsiComment(GO_LINE_COMMENT)('// Too big: use binary (big-endian).')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('usedBinary')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('true')
      FOR_STATEMENT
        PsiElement(for)('for')
        FOR_CLAUSE
          SIMPLE_STATEMENT
            SHORT_VAR_DECLARATION
              VAR_DEFINITION
                PsiElement(identifier)('i')
              PsiElement(:=)(':=')
              ADD_EXPR
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('len')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('b')
                    PsiElement())(')')
                PsiElement(-)('-')
                LITERAL
                  PsiElement(int)('1')
          PsiElement(;)(';')
          AND_EXPR
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('x')
              PsiElement(>)('>')
              LITERAL
                PsiElement(int)('0')
            PsiElement(&&)('&&')
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('i')
              PsiElement(>=)('>=')
              LITERAL
                PsiElement(int)('0')
          PsiElement(;)(';')
          INC_DEC_STATEMENT
            REFERENCE_EXPRESSION
              PsiElement(identifier)('i')
            PsiElement(--)('--')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              INDEX_OR_SLICE_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('b')
                PsiElement([)('[')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('i')
                PsiElement(])(']')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('byte')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('x')
                PsiElement())(')')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('x')
            ASSIGN_OP
              PsiElement(>>=)('>>=')
            LITERAL
              PsiElement(int)('8')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          INDEX_OR_SLICE_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('b')
            PsiElement([)('[')
            LITERAL
              PsiElement(int)('0')
            PsiElement(])(']')
        ASSIGN_OP
          PsiElement(|=)('|=')
        LITERAL
          PsiElement(hex)('0x80')
      PsiComment(GO_LINE_COMMENT)('// highest bit indicates binary format')
      PsiElement(})('}')
  VAR_DECLARATION
    PsiElement(var)('var')
    PsiElement(()('(')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('minTime')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('time')
          PsiElement(.)('.')
          PsiElement(identifier)('Unix')
        ARGUMENT_LIST
          PsiElement(()('(')
          LITERAL
            PsiElement(int)('0')
          PsiElement(,)(',')
          LITERAL
            PsiElement(int)('0')
          PsiElement())(')')
    PsiComment(GO_LINE_COMMENT)('// There is room for 11 octal digits (33 bits) of mtime.')
    VAR_SPEC
      VAR_DEFINITION
        PsiElement(identifier)('maxTime')
      PsiElement(=)('=')
      CALL_EXPR
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('minTime')
          PsiElement(.)('.')
          PsiElement(identifier)('Add')
        ARGUMENT_LIST
          PsiElement(()('(')
          MUL_EXPR
            PARENTHESES_EXPR
              PsiElement(()('(')
              ADD_EXPR
                MUL_EXPR
                  LITERAL
                    PsiElement(int)('1')
                  PsiElement(<<)('<<')
                  LITERAL
                    PsiElement(int)('33')
                PsiElement(-)('-')
                LITERAL
                  PsiElement(int)('1')
              PsiElement())(')')
            PsiElement(*)('*')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('time')
              PsiElement(.)('.')
              PsiElement(identifier)('Second')
          PsiElement())(')')
    PsiElement())(')')
  PsiComment(GO_LINE_COMMENT)('// WriteHeader writes hdr and prepares to accept the file's contents.')
  PsiComment(GO_LINE_COMMENT)('// WriteHeader calls Flush if it is not the first header.')
  PsiComment(GO_LINE_COMMENT)('// Calling after a Close will return ErrWriteAfterClose.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('WriteHeader')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('hdr')
          POINTER_TYPE
            PsiElement(*)('*')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('Header')
        PsiElement())(')')
      RESULT
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('error')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('closed')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ErrWriteAfterClose')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
              PsiElement(==)('==')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Flush')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  PsiElement())(')')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
              PsiElement(!=)('!=')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
          PsiElement(})('}')
      PsiComment(GO_LINE_COMMENT)('// Decide whether or not to use PAX extensions')
      PsiComment(GO_LINE_COMMENT)('// TODO(shanemhansen): we might want to use PAX headers for')
      PsiComment(GO_LINE_COMMENT)('// subsecond time resolution, but for now let's just capture')
      PsiComment(GO_LINE_COMMENT)('// the long name/long symlink use case.')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('suffix')
          PsiElement(:=)(':=')
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('hdr')
            PsiElement(.)('.')
            PsiElement(identifier)('Name')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('prefix')
          PsiElement(:=)(':=')
          STRING_LITERAL
            PsiElement(string)('""')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            OR_EXPR
              CONDITIONAL_EXPR
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('len')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('hdr')
                      PsiElement(.)('.')
                      PsiElement(identifier)('Name')
                    PsiElement())(')')
                PsiElement(>)('>')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('fileNameSize')
              PsiElement(||)('||')
              CONDITIONAL_EXPR
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('len')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('hdr')
                      PsiElement(.)('.')
                      PsiElement(identifier)('Linkname')
                    PsiElement())(')')
                PsiElement(>)('>')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('fileNameSize')
        BLOCK
          PsiElement({)('{')
          STATEMENT
            VAR_DECLARATION
              PsiElement(var)('var')
              VAR_SPEC
                VAR_DEFINITION
                  PsiElement(identifier)('err')
                TYPE
                  TYPE_REFERENCE_EXPRESSION
                    PsiElement(identifier)('error')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('prefix')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('suffix')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('splitUSTARLongName')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('hdr')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Name')
                PsiElement())(')')
          PsiComment(GO_LINE_COMMENT)('// Either we were unable to pack the long name into ustar format')
          PsiComment(GO_LINE_COMMENT)('// or the link name is too long; use PAX headers.')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                OR_EXPR
                  CONDITIONAL_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('err')
                    PsiElement(==)('==')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('errNameTooLong')
                  PsiElement(||)('||')
                  CONDITIONAL_EXPR
                    CALL_EXPR
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('len')
                      ARGUMENT_LIST
                        PsiElement(()('(')
                        REFERENCE_EXPRESSION
                          REFERENCE_EXPRESSION
                            PsiElement(identifier)('hdr')
                          PsiElement(.)('.')
                          PsiElement(identifier)('Linkname')
                        PsiElement())(')')
                    PsiElement(>)('>')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('fileNameSize')
            BLOCK
              PsiElement({)('{')
              IF_STATEMENT
                PsiElement(if)('if')
                SIMPLE_STATEMENT
                  SHORT_VAR_DECLARATION
                    VAR_DEFINITION
                      PsiElement(identifier)('err')
                    PsiElement(:=)(':=')
                    CALL_EXPR
                      REFERENCE_EXPRESSION
                        REFERENCE_EXPRESSION
                          PsiElement(identifier)('tw')
                        PsiElement(.)('.')
                        PsiElement(identifier)('writePAXHeader')
                      ARGUMENT_LIST
                        PsiElement(()('(')
                        REFERENCE_EXPRESSION
                          PsiElement(identifier)('hdr')
                        PsiElement())(')')
                PsiElement(;)(';')
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('err')
                  PsiElement(!=)('!=')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nil')
                BLOCK
                  PsiElement({)('{')
                  RETURN_STATEMENT
                    PsiElement(return)('return')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('err')
                  PsiElement(})('}')
              PsiElement(})('}')
            ELSE_STATEMENT
              PsiElement(else)('else')
              IF_STATEMENT
                PsiElement(if)('if')
                SIMPLE_STATEMENT
                  LEFT_HAND_EXPR_LIST
                    CONDITIONAL_EXPR
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('err')
                      PsiElement(!=)('!=')
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('nil')
                BLOCK
                  PsiElement({)('{')
                  RETURN_STATEMENT
                    PsiElement(return)('return')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('err')
                  PsiElement(})('}')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('nb')
        ASSIGN_OP
          PsiElement(=)('=')
        CALL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('int64')
          ARGUMENT_LIST
            PsiElement(()('(')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('hdr')
              PsiElement(.)('.')
              PsiElement(identifier)('Size')
            PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('pad')
        ASSIGN_OP
          PsiElement(=)('=')
        MUL_EXPR
          UNARY_EXPR
            PsiElement(-)('-')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('nb')
          PsiElement(&)('&')
          PARENTHESES_EXPR
            PsiElement(()('(')
            ADD_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('blockSize')
              PsiElement(-)('-')
              LITERAL
                PsiElement(int)('1')
            PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// blockSize is a power of two')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('header')
          PsiElement(:=)(':=')
          BUILTIN_CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('make')
            BUILTIN_ARGUMENT_LIST
              PsiElement(()('(')
              ARRAY_OR_SLICE_TYPE
                PsiElement([)('[')
                PsiElement(])(']')
                TYPE
                  TYPE_REFERENCE_EXPRESSION
                    PsiElement(identifier)('byte')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('blockSize')
              PsiElement())(')')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('s')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('slicer')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('header')
              PsiElement())(')')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fileNameSize')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('suffix')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// Handle out of range ModTime carefully.')
      STATEMENT
        VAR_DECLARATION
          PsiElement(var)('var')
          VAR_SPEC
            VAR_DEFINITION
              PsiElement(identifier)('modTime')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('int64')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            AND_EXPR
              UNARY_EXPR
                PsiElement(!)('!')
                CALL_EXPR
                  SELECTOR_EXPR
                    REFERENCE_EXPRESSION
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('hdr')
                      PsiElement(.)('.')
                      PsiElement(identifier)('ModTime')
                    PsiElement(.)('.')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('Before')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('minTime')
                    PsiElement())(')')
              PsiElement(&&)('&&')
              UNARY_EXPR
                PsiElement(!)('!')
                CALL_EXPR
                  SELECTOR_EXPR
                    REFERENCE_EXPRESSION
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('hdr')
                      PsiElement(.)('.')
                      PsiElement(identifier)('ModTime')
                    PsiElement(.)('.')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('After')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('maxTime')
                    PsiElement())(')')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('modTime')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              SELECTOR_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('hdr')
                  PsiElement(.)('.')
                  PsiElement(identifier)('ModTime')
                PsiElement(.)('.')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('Unix')
              ARGUMENT_LIST
                PsiElement(()('(')
                PsiElement())(')')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('octal')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Mode')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 100:108')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('int64')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('hdr')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Uid')
                  PsiElement())(')')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 108:116')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('int64')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('hdr')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Gid')
                  PsiElement())(')')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 116:124')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('12')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Size')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 124:136')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('12')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('modTime')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 136:148')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('s')
              PsiElement(.)('.')
              PsiElement(identifier)('next')
            ARGUMENT_LIST
              PsiElement(()('(')
              LITERAL
                PsiElement(int)('8')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// chksum (148:156)')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          INDEX_OR_SLICE_EXPR
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('s')
                PsiElement(.)('.')
                PsiElement(identifier)('next')
              ARGUMENT_LIST
                PsiElement(()('(')
                LITERAL
                  PsiElement(int)('1')
                PsiElement())(')')
            PsiElement([)('[')
            LITERAL
              PsiElement(int)('0')
            PsiElement(])(']')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('hdr')
          PsiElement(.)('.')
          PsiElement(identifier)('Typeflag')
      PsiComment(GO_LINE_COMMENT)('// 156:157')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('100')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Linkname')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// linkname (157:257)')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('copy')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              CONVERSION_EXPR
                ARRAY_OR_SLICE_TYPE
                  PsiElement([)('[')
                  PsiElement(])(']')
                  TYPE
                    TYPE_REFERENCE_EXPRESSION
                      PsiElement(identifier)('byte')
                PsiElement(()('(')
                STRING_LITERAL
                  PsiElement(string)('"ustar\x0000"')
                PsiElement())(')')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 257:265')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('32')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Uname')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 265:297')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('32')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Gname')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 297:329')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Devmajor')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 329:337')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('numeric')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('8')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Devminor')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 337:345')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('cString')
            ARGUMENT_LIST
              PsiElement(()('(')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('s')
                  PsiElement(.)('.')
                  PsiElement(identifier)('next')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  LITERAL
                    PsiElement(int)('155')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('prefix')
              PsiElement())(')')
      PsiComment(GO_LINE_COMMENT)('// 345:500')
      PsiComment(GO_LINE_COMMENT)('// Use the GNU magic instead of POSIX magic if we used any GNU extensions.')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('usedBinary')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('copy')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  INDEX_OR_SLICE_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('header')
                    PsiElement([)('[')
                    LITERAL
                      PsiElement(int)('257')
                    PsiElement(:)(':')
                    LITERAL
                      PsiElement(int)('265')
                    PsiElement(])(']')
                  PsiElement(,)(',')
                  CONVERSION_EXPR
                    ARRAY_OR_SLICE_TYPE
                      PsiElement([)('[')
                      PsiElement(])(']')
                      TYPE
                        TYPE_REFERENCE_EXPRESSION
                          PsiElement(identifier)('byte')
                    PsiElement(()('(')
                    STRING_LITERAL
                      PsiElement(string)('"ustar  \x00"')
                    PsiElement())(')')
                  PsiElement())(')')
          PsiElement(})('}')
      PsiComment(GO_LINE_COMMENT)('// Use the ustar magic if we used ustar long names.')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('prefix')
                  PsiElement())(')')
              PsiElement(>)('>')
              LITERAL
                PsiElement(int)('0')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('copy')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  INDEX_OR_SLICE_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('header')
                    PsiElement([)('[')
                    LITERAL
                      PsiElement(int)('257')
                    PsiElement(:)(':')
                    LITERAL
                      PsiElement(int)('265')
                    PsiElement(])(']')
                  PsiElement(,)(',')
                  CONVERSION_EXPR
                    ARRAY_OR_SLICE_TYPE
                      PsiElement([)('[')
                      PsiElement(])(']')
                      TYPE
                        TYPE_REFERENCE_EXPRESSION
                          PsiElement(identifier)('byte')
                    PsiElement(()('(')
                    STRING_LITERAL
                      PsiElement(string)('"ustar\000"')
                    PsiElement())(')')
                  PsiElement())(')')
          PsiElement(})('}')
      PsiComment(GO_LINE_COMMENT)('// The chksum field is terminated by a NUL and a space.')
      PsiComment(GO_LINE_COMMENT)('// This is different from the other octal fields.')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('chksum')
          PsiElement(,)(',')
          VAR_DEFINITION
            PsiElement(identifier)('_')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('checksum')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('header')
              PsiElement())(')')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('octal')
            ARGUMENT_LIST
              PsiElement(()('(')
              INDEX_OR_SLICE_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('header')
                PsiElement([)('[')
                LITERAL
                  PsiElement(int)('148')
                PsiElement(:)(':')
                LITERAL
                  PsiElement(int)('155')
                PsiElement(])(']')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('chksum')
              PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          INDEX_OR_SLICE_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('header')
            PsiElement([)('[')
            LITERAL
              PsiElement(int)('155')
            PsiElement(])(']')
        ASSIGN_OP
          PsiElement(=)('=')
        LITERAL
          PsiElement(char)('' '')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
              PsiElement(!=)('!=')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          PsiComment(GO_LINE_COMMENT)('// problem with header; probably integer too big for a field.')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            PsiElement(identifier)('_')
          PsiElement(,)(',')
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('err')
        ASSIGN_OP
          PsiElement(=)('=')
        CALL_EXPR
          SELECTOR_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('w')
            PsiElement(.)('.')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('Write')
          ARGUMENT_LIST
            PsiElement(()('(')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('header')
            PsiElement())(')')
      RETURN_STATEMENT
        PsiElement(return)('return')
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('tw')
          PsiElement(.)('.')
          PsiElement(identifier)('err')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// writeUSTARLongName splits a USTAR long name hdr.Name.')
  PsiComment(GO_LINE_COMMENT)('// name must be < 256 characters. errNameTooLong is returned')
  PsiComment(GO_LINE_COMMENT)('// if hdr.Name can't be split. The splitting heuristic')
  PsiComment(GO_LINE_COMMENT)('// is compatible with gnu tar.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('splitUSTARLongName')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('name')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('string')
        PsiElement())(')')
      RESULT
        PARAMETERS
          PsiElement(()('(')
          PARAMETER_DECLARATION
            PARAM_DEFINITION
              PsiElement(identifier)('prefix')
            PsiElement(,)(',')
            PARAM_DEFINITION
              PsiElement(identifier)('suffix')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('string')
          PsiElement(,)(',')
          PARAMETER_DECLARATION
            PARAM_DEFINITION
              PsiElement(identifier)('err')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('error')
          PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('length')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('len')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('name')
              PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('length')
              PsiElement(>)('>')
              ADD_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('fileNamePrefixSize')
                PsiElement(+)('+')
                LITERAL
                  PsiElement(int)('1')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('length')
            ASSIGN_OP
              PsiElement(=)('=')
            ADD_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('fileNamePrefixSize')
              PsiElement(+)('+')
              LITERAL
                PsiElement(int)('1')
          PsiElement(})('}')
        ELSE_STATEMENT
          PsiElement(else)('else')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                CONDITIONAL_EXPR
                  INDEX_OR_SLICE_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('name')
                    PsiElement([)('[')
                    ADD_EXPR
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('length')
                      PsiElement(-)('-')
                      LITERAL
                        PsiElement(int)('1')
                    PsiElement(])(']')
                  PsiElement(==)('==')
                  LITERAL
                    PsiElement(char)(''/'')
            BLOCK
              PsiElement({)('{')
              INC_DEC_STATEMENT
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('length')
                PsiElement(--)('--')
              PsiElement(})('}')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('i')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('strings')
              PsiElement(.)('.')
              PsiElement(identifier)('LastIndex')
            ARGUMENT_LIST
              PsiElement(()('(')
              INDEX_OR_SLICE_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('name')
                PsiElement([)('[')
                PsiElement(:)(':')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('length')
                PsiElement(])(']')
              PsiElement(,)(',')
              STRING_LITERAL
                PsiElement(string)('"/"')
              PsiElement())(')')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('nlen')
          PsiElement(:=)(':=')
          ADD_EXPR
            ADD_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('length')
              PsiElement(-)('-')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('i')
            PsiElement(-)('-')
            LITERAL
              PsiElement(int)('1')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            OR_EXPR
              OR_EXPR
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('i')
                  PsiElement(<=)('<=')
                  LITERAL
                    PsiElement(int)('0')
                PsiElement(||)('||')
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nlen')
                  PsiElement(>)('>')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fileNameSize')
              PsiElement(||)('||')
              CONDITIONAL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('nlen')
                PsiElement(==)('==')
                LITERAL
                  PsiElement(int)('0')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('errNameTooLong')
          RETURN_STATEMENT
            PsiElement(return)('return')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            PsiElement(identifier)('prefix')
          PsiElement(,)(',')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('suffix')
        ASSIGN_OP
          PsiElement(=)('=')
        INDEX_OR_SLICE_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('name')
          PsiElement([)('[')
          PsiElement(:)(':')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('i')
          PsiElement(])(']')
        PsiElement(,)(',')
        INDEX_OR_SLICE_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('name')
          PsiElement([)('[')
          ADD_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('i')
            PsiElement(+)('+')
            LITERAL
              PsiElement(int)('1')
          PsiElement(:)(':')
          PsiElement(])(']')
      RETURN_STATEMENT
        PsiElement(return)('return')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// writePaxHeader writes an extended pax header to the')
  PsiComment(GO_LINE_COMMENT)('// archive.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('writePAXHeader')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('hdr')
          POINTER_TYPE
            PsiElement(*)('*')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('Header')
        PsiElement())(')')
      RESULT
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('error')
    BLOCK
      PsiElement({)('{')
      PsiComment(GO_LINE_COMMENT)('// Prepare extended header')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('ext')
          PsiElement(:=)(':=')
          BUILTIN_CALL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('new')
            BUILTIN_ARGUMENT_LIST
              PsiElement(()('(')
              TYPE
                TYPE_REFERENCE_EXPRESSION
                  PsiElement(identifier)('Header')
              PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ext')
            PsiElement(.)('.')
            PsiElement(identifier)('Typeflag')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('TypeXHeader')
      PsiComment(GO_LINE_COMMENT)('// Setting ModTime is required for reader parsing to')
      PsiComment(GO_LINE_COMMENT)('// succeed, and seems harmless enough.')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ext')
            PsiElement(.)('.')
            PsiElement(identifier)('ModTime')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('hdr')
          PsiElement(.)('.')
          PsiElement(identifier)('ModTime')
      PsiComment(GO_LINE_COMMENT)('// The spec asks that we namespace our pseudo files')
      PsiComment(GO_LINE_COMMENT)('// with the current pid.')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('pid')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('os')
              PsiElement(.)('.')
              PsiElement(identifier)('Getpid')
            ARGUMENT_LIST
              PsiElement(()('(')
              PsiElement())(')')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('dir')
          PsiElement(,)(',')
          VAR_DEFINITION
            PsiElement(identifier)('file')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('path')
              PsiElement(.)('.')
              PsiElement(identifier)('Split')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('hdr')
                PsiElement(.)('.')
                PsiElement(identifier)('Name')
              PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ext')
            PsiElement(.)('.')
            PsiElement(identifier)('Name')
        ASSIGN_OP
          PsiElement(=)('=')
        INDEX_OR_SLICE_EXPR
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('path')
              PsiElement(.)('.')
              PsiElement(identifier)('Join')
            ARGUMENT_LIST
              PsiElement(()('(')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('dir')
              PsiElement(,)(',')
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fmt')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Sprintf')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  STRING_LITERAL
                    PsiElement(string)('"PaxHeaders.%d"')
                  PsiElement(,)(',')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('pid')
                  PsiElement())(')')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('file')
              PsiElement())(')')
          PsiElement([)('[')
          LITERAL
            PsiElement(int)('0')
          PsiElement(:)(':')
          LITERAL
            PsiElement(int)('100')
          PsiElement(])(']')
      PsiComment(GO_LINE_COMMENT)('// Construct the body')
      STATEMENT
        VAR_DECLARATION
          PsiElement(var)('var')
          VAR_SPEC
            VAR_DEFINITION
              PsiElement(identifier)('buf')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                TYPE_REFERENCE_EXPRESSION
                  PsiElement(identifier)('bytes')
                PsiElement(.)('.')
                PsiElement(identifier)('Buffer')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('hdr')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Name')
                  PsiElement())(')')
              PsiElement(>)('>')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('fileNameSize')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fmt')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Fprint')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  UNARY_EXPR
                    PsiElement(&)('&')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('buf')
                  PsiElement(,)(',')
                  CALL_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('paxHeader')
                    ARGUMENT_LIST
                      PsiElement(()('(')
                      ADD_EXPR
                        STRING_LITERAL
                          PsiElement(string)('"path="')
                        PsiElement(+)('+')
                        REFERENCE_EXPRESSION
                          REFERENCE_EXPRESSION
                            PsiElement(identifier)('hdr')
                          PsiElement(.)('.')
                          PsiElement(identifier)('Name')
                      PsiElement())(')')
                  PsiElement())(')')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('hdr')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Linkname')
                  PsiElement())(')')
              PsiElement(>)('>')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('fileNameSize')
        BLOCK
          PsiElement({)('{')
          SIMPLE_STATEMENT
            LEFT_HAND_EXPR_LIST
              CALL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('fmt')
                  PsiElement(.)('.')
                  PsiElement(identifier)('Fprint')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  UNARY_EXPR
                    PsiElement(&)('&')
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('buf')
                  PsiElement(,)(',')
                  CALL_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('paxHeader')
                    ARGUMENT_LIST
                      PsiElement(()('(')
                      ADD_EXPR
                        STRING_LITERAL
                          PsiElement(string)('"linkpath="')
                        PsiElement(+)('+')
                        REFERENCE_EXPRESSION
                          REFERENCE_EXPRESSION
                            PsiElement(identifier)('hdr')
                          PsiElement(.)('.')
                          PsiElement(identifier)('Linkname')
                      PsiElement())(')')
                  PsiElement())(')')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ext')
            PsiElement(.)('.')
            PsiElement(identifier)('Size')
        ASSIGN_OP
          PsiElement(=)('=')
        CALL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('int64')
          ARGUMENT_LIST
            PsiElement(()('(')
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('len')
              ARGUMENT_LIST
                PsiElement(()('(')
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('buf')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Bytes')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    PsiElement())(')')
                PsiElement())(')')
            PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          SHORT_VAR_DECLARATION
            VAR_DEFINITION
              PsiElement(identifier)('err')
            PsiElement(:=)(':=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('WriteHeader')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('ext')
                PsiElement())(')')
        PsiElement(;)(';')
        CONDITIONAL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('err')
          PsiElement(!=)('!=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('err')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          SHORT_VAR_DECLARATION
            VAR_DEFINITION
              PsiElement(identifier)('_')
            PsiElement(,)(',')
            VAR_DEFINITION
              PsiElement(identifier)('err')
            PsiElement(:=)(':=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('Write')
              ARGUMENT_LIST
                PsiElement(()('(')
                CALL_EXPR
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('buf')
                    PsiElement(.)('.')
                    PsiElement(identifier)('Bytes')
                  ARGUMENT_LIST
                    PsiElement(()('(')
                    PsiElement())(')')
                PsiElement())(')')
        PsiElement(;)(';')
        CONDITIONAL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('err')
          PsiElement(!=)('!=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('err')
          PsiElement(})('}')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          SHORT_VAR_DECLARATION
            VAR_DEFINITION
              PsiElement(identifier)('err')
            PsiElement(:=)(':=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('Flush')
              ARGUMENT_LIST
                PsiElement(()('(')
                PsiElement())(')')
        PsiElement(;)(';')
        CONDITIONAL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('err')
          PsiElement(!=)('!=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('err')
          PsiElement(})('}')
      RETURN_STATEMENT
        PsiElement(return)('return')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('nil')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// paxHeader formats a single pax record, prefixing it with the appropriate length')
  FUNCTION_DECLARATION
    PsiElement(func)('func')
    PsiElement(identifier)('paxHeader')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('msg')
          TYPE
            TYPE_REFERENCE_EXPRESSION
              PsiElement(identifier)('string')
        PsiElement())(')')
      RESULT
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('string')
    BLOCK
      PsiElement({)('{')
      STATEMENT
        CONST_DECLARATION
          PsiElement(const)('const')
          CONST_SPEC
            CONST_DEFINITION
              PsiElement(identifier)('padding')
            PsiElement(=)('=')
            LITERAL
              PsiElement(int)('2')
      PsiComment(GO_LINE_COMMENT)('// Extra padding for space and newline')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('size')
          PsiElement(:=)(':=')
          ADD_EXPR
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('len')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('msg')
                PsiElement())(')')
            PsiElement(+)('+')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('padding')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            PsiElement(identifier)('size')
        ASSIGN_OP
          PsiElement(+=)('+=')
        CALL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('len')
          ARGUMENT_LIST
            PsiElement(()('(')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('strconv')
                PsiElement(.)('.')
                PsiElement(identifier)('Itoa')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('size')
                PsiElement())(')')
            PsiElement())(')')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('record')
          PsiElement(:=)(':=')
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('fmt')
              PsiElement(.)('.')
              PsiElement(identifier)('Sprintf')
            ARGUMENT_LIST
              PsiElement(()('(')
              STRING_LITERAL
                PsiElement(string)('"%d %s\n"')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('size')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('msg')
              PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('len')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('record')
                  PsiElement())(')')
              PsiElement(!=)('!=')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('size')
        BLOCK
          PsiElement({)('{')
          PsiComment(GO_LINE_COMMENT)('// Final adjustment if adding size increased')
          PsiComment(GO_LINE_COMMENT)('// the number of digits in size')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('size')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('len')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('record')
                PsiElement())(')')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('record')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('fmt')
                PsiElement(.)('.')
                PsiElement(identifier)('Sprintf')
              ARGUMENT_LIST
                PsiElement(()('(')
                STRING_LITERAL
                  PsiElement(string)('"%d %s\n"')
                PsiElement(,)(',')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('size')
                PsiElement(,)(',')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('msg')
                PsiElement())(')')
          PsiElement(})('}')
      RETURN_STATEMENT
        PsiElement(return)('return')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('record')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Write writes to the current entry in the tar archive.')
  PsiComment(GO_LINE_COMMENT)('// Write returns the error ErrWriteTooLong if more than')
  PsiComment(GO_LINE_COMMENT)('// hdr.Size bytes are written after WriteHeader.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('Write')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PARAMETER_DECLARATION
          PARAM_DEFINITION
            PsiElement(identifier)('b')
          ARRAY_OR_SLICE_TYPE
            PsiElement([)('[')
            PsiElement(])(']')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('byte')
        PsiElement())(')')
      RESULT
        PARAMETERS
          PsiElement(()('(')
          PARAMETER_DECLARATION
            PARAM_DEFINITION
              PsiElement(identifier)('n')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('int')
          PsiElement(,)(',')
          PARAMETER_DECLARATION
            PARAM_DEFINITION
              PsiElement(identifier)('err')
            TYPE
              TYPE_REFERENCE_EXPRESSION
                PsiElement(identifier)('error')
          PsiElement())(')')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('closed')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ErrWriteTooLong')
          RETURN_STATEMENT
            PsiElement(return)('return')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        SHORT_VAR_DECLARATION
          VAR_DEFINITION
            PsiElement(identifier)('overwrite')
          PsiElement(:=)(':=')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('false')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              CALL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('int64')
                ARGUMENT_LIST
                  PsiElement(()('(')
                  CALL_EXPR
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('len')
                    ARGUMENT_LIST
                      PsiElement(()('(')
                      REFERENCE_EXPRESSION
                        PsiElement(identifier)('b')
                      PsiElement())(')')
                  PsiElement())(')')
              PsiElement(>)('>')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('nb')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('b')
            ASSIGN_OP
              PsiElement(=)('=')
            INDEX_OR_SLICE_EXPR
              REFERENCE_EXPRESSION
                PsiElement(identifier)('b')
              PsiElement([)('[')
              LITERAL
                PsiElement(int)('0')
              PsiElement(:)(':')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('nb')
              PsiElement(])(']')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('overwrite')
            ASSIGN_OP
              PsiElement(=)('=')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('true')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            PsiElement(identifier)('n')
          PsiElement(,)(',')
          REFERENCE_EXPRESSION
            PsiElement(identifier)('err')
        ASSIGN_OP
          PsiElement(=)('=')
        CALL_EXPR
          SELECTOR_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('w')
            PsiElement(.)('.')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('Write')
          ARGUMENT_LIST
            PsiElement(()('(')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('b')
            PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('nb')
        ASSIGN_OP
          PsiElement(-=)('-=')
        CALL_EXPR
          REFERENCE_EXPRESSION
            PsiElement(identifier)('int64')
          ARGUMENT_LIST
            PsiElement(()('(')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('n')
            PsiElement())(')')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            AND_EXPR
              CONDITIONAL_EXPR
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('err')
                PsiElement(==)('==')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('nil')
              PsiElement(&&)('&&')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('overwrite')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            REFERENCE_EXPRESSION
              PsiElement(identifier)('ErrWriteTooLong')
          RETURN_STATEMENT
            PsiElement(return)('return')
          PsiElement(})('}')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('err')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('err')
      RETURN_STATEMENT
        PsiElement(return)('return')
      PsiElement(})('}')
  PsiComment(GO_LINE_COMMENT)('// Close closes the tar archive, flushing any unwritten')
  PsiComment(GO_LINE_COMMENT)('// data to the underlying writer.')
  METHOD_DECLARATION
    PsiElement(func)('func')
    RECEIVER
      PsiElement(()('(')
      PsiElement(identifier)('tw')
      POINTER_TYPE
        PsiElement(*)('*')
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('Writer')
      PsiElement())(')')
    PsiElement(identifier)('Close')
    SIGNATURE
      PARAMETERS
        PsiElement(()('(')
        PsiElement())(')')
      RESULT
        TYPE
          TYPE_REFERENCE_EXPRESSION
            PsiElement(identifier)('error')
    BLOCK
      PsiElement({)('{')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            OR_EXPR
              CONDITIONAL_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('err')
                PsiElement(!=)('!=')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('nil')
              PsiElement(||)('||')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('closed')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
          PsiElement(})('}')
      SIMPLE_STATEMENT
        LEFT_HAND_EXPR_LIST
          CALL_EXPR
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('Flush')
            ARGUMENT_LIST
              PsiElement(()('(')
              PsiElement())(')')
      ASSIGNMENT_STATEMENT
        LEFT_HAND_EXPR_LIST
          REFERENCE_EXPRESSION
            REFERENCE_EXPRESSION
              PsiElement(identifier)('tw')
            PsiElement(.)('.')
            PsiElement(identifier)('closed')
        ASSIGN_OP
          PsiElement(=)('=')
        REFERENCE_EXPRESSION
          PsiElement(identifier)('true')
      IF_STATEMENT
        PsiElement(if)('if')
        SIMPLE_STATEMENT
          LEFT_HAND_EXPR_LIST
            CONDITIONAL_EXPR
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
              PsiElement(!=)('!=')
              REFERENCE_EXPRESSION
                PsiElement(identifier)('nil')
        BLOCK
          PsiElement({)('{')
          RETURN_STATEMENT
            PsiElement(return)('return')
            REFERENCE_EXPRESSION
              REFERENCE_EXPRESSION
                PsiElement(identifier)('tw')
              PsiElement(.)('.')
              PsiElement(identifier)('err')
          PsiElement(})('}')
      PsiComment(GO_LINE_COMMENT)('// trailer: two zero blocks')
      FOR_STATEMENT
        PsiElement(for)('for')
        FOR_CLAUSE
          SIMPLE_STATEMENT
            SHORT_VAR_DECLARATION
              VAR_DEFINITION
                PsiElement(identifier)('i')
              PsiElement(:=)(':=')
              LITERAL
                PsiElement(int)('0')
          PsiElement(;)(';')
          CONDITIONAL_EXPR
            REFERENCE_EXPRESSION
              PsiElement(identifier)('i')
            PsiElement(<)('<')
            LITERAL
              PsiElement(int)('2')
          PsiElement(;)(';')
          INC_DEC_STATEMENT
            REFERENCE_EXPRESSION
              PsiElement(identifier)('i')
            PsiElement(++)('++')
        BLOCK
          PsiElement({)('{')
          ASSIGNMENT_STATEMENT
            LEFT_HAND_EXPR_LIST
              REFERENCE_EXPRESSION
                PsiElement(identifier)('_')
              PsiElement(,)(',')
              REFERENCE_EXPRESSION
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('tw')
                PsiElement(.)('.')
                PsiElement(identifier)('err')
            ASSIGN_OP
              PsiElement(=)('=')
            CALL_EXPR
              SELECTOR_EXPR
                REFERENCE_EXPRESSION
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('tw')
                  PsiElement(.)('.')
                  PsiElement(identifier)('w')
                PsiElement(.)('.')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('Write')
              ARGUMENT_LIST
                PsiElement(()('(')
                REFERENCE_EXPRESSION
                  PsiElement(identifier)('zeroBlock')
                PsiElement())(')')
          IF_STATEMENT
            PsiElement(if)('if')
            SIMPLE_STATEMENT
              LEFT_HAND_EXPR_LIST
                CONDITIONAL_EXPR
                  REFERENCE_EXPRESSION
                    REFERENCE_EXPRESSION
                      PsiElement(identifier)('tw')
                    PsiElement(.)('.')
                    PsiElement(identifier)('err')
                  PsiElement(!=)('!=')
                  REFERENCE_EXPRESSION
                    PsiElement(identifier)('nil')
            BLOCK
              PsiElement({)('{')
              BREAK_STATEMENT
                PsiElement(break)('break')
              PsiElement(})('}')
          PsiElement(})('}')
      RETURN_STATEMENT
        PsiElement(return)('return')
        REFERENCE_EXPRESSION
          REFERENCE_EXPRESSION
            PsiElement(identifier)('tw')
          PsiElement(.)('.')
          PsiElement(identifier)('err')
      PsiElement(})('}')